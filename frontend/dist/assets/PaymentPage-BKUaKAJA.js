import{b as h,e as j,r as a,j as e}from"./index-CVeIW3aN.js";import{S as b}from"./StripeCheckout-CumEkmZG.js";import"./paymentService-Cia3vvIB.js";const N=()=>{const n=h(),{orderId:c}=j(),[r,o]=a.useState(null),[d,i]=a.useState(!0),[l,m]=a.useState(null);a.useEffect(()=>{c&&(async()=>{try{const s={id:parseInt(c),order_number:`ORD-${Math.random().toString(36).substr(2,8).toUpperCase()}`,total_amount:"99.99",user:{username:"customer",email:"customer@example.com"}};o(s)}catch{m("Failed to load order details")}finally{i(!1)}})()},[c]);const x=(t,s)=>{n(`/payment-success/${s}`,{state:{paymentIntent:t,order:r,paymentId:s}})},u=t=>{console.error("Payment failed:",t)};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),e.jsx("button",{onClick:()=>n("/"),className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Go Home"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Payment"}),e.jsx("p",{className:"text-gray-600",children:"Secure checkout powered by Stripe"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Order Number:"}),e.jsx("span",{className:"font-medium",children:r.order_number})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",r.total_amount]})]})]})]}),e.jsx(b,{order:r,onSuccess:x,onError:u}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("button",{onClick:()=>n(-1),className:"text-gray-500 hover:text-gray-700 font-medium",children:"← Back to Order"})})]})})})};export{N as default};
