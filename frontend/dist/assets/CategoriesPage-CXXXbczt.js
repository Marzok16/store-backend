import{r as s,j as e}from"./index-JYwPDSlk.js";import{d as l}from"./dashboard-D_-zjPrw.js";import{F as w,a as v}from"./PlusIcon-CObv8JXO.js";import{F as C}from"./TrashIcon-CoQL1mjI.js";const A=()=>{const[x,b]=s.useState([]),[g,u]=s.useState(!0),[h,n]=s.useState(null),[p,d]=s.useState(!1),[o,i]=s.useState(null),[r,a]=s.useState({name:"",description:""});s.useEffect(()=>{c()},[]);const c=async()=>{try{u(!0);const t=await l.getCategories();b(t.data)}catch(t){n(t.response?.data?.error||"Failed to fetch categories")}finally{u(!1)}},f=async t=>{t.preventDefault();try{o?await l.updateCategory(o.id,r):await l.createCategory(r),d(!1),i(null),a({name:"",description:""}),c()}catch(m){n(m.response?.data?.error||"Failed to save category")}},j=async t=>{if(window.confirm("Are you sure you want to delete this category?"))try{await l.deleteCategory(t),c()}catch(m){n(m.response?.data?.error||"Failed to delete category")}},y=t=>{i(t),a({name:t.name,description:t.description||""}),d(!0)},N=()=>{d(!1),i(null),a({name:"",description:""})};return g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage product categories"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),h&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-sm text-red-600",children:h})}),p&&e.jsxs("div",{className:"mb-6 bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:o?"Edit Category":"Add New Category"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:r.name,onChange:t=>a({...r,name:t.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Category name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{rows:3,value:r.description,onChange:t=>a({...r,description:t.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Category description (optional)"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[o?"Update":"Create"," Category"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(t=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>y(t),className:"text-blue-600 hover:text-blue-900",children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>j(t.id),className:"text-red-600 hover:text-red-900",children:e.jsx(C,{className:"h-4 w-4"})})]})]}),t.description&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t.description}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t.product_count," products"]})})]})},t.id))}),x.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No categories found"})})]})};export{A as default};
